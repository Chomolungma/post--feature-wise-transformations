<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 744 500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="arrow-right" viewBox="0 0 7.69 8.56">
      <title>Right arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 7.69 4.28 C 4.911 5.279 2.314 6.725 0 8.56 L 1.55 4.28 L 0 0 C 2.314 1.835 4.911 3.28 7.69 4.28 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-up" viewBox="0 0 8.56 7.69">
      <title>Up arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 4.28 0 a 27.2 27.2 0 0 0 4.28 7.69 L 4.28 6.14 l -4.28 1.55 A 27.17 27.17 0 0 0 4.28 0 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-left" viewBox="0 0 7.69 8.56">
      <title>Left arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 0 4.28 a 27.2 27.2 0 0 0 7.69 -4.28 L 6.14 4.28 l 1.55 4.28 A 27.18 27.18 0 0 0 0 4.28 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-down" viewBox="0 0 8.56 7.69">
      <title>Down arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 4.28 7.69 a 27.2 27.2 0 0 0 -4.28 -7.69 l 4.28 1.55 4.28 -1.55 A 27.18 27.18 0 0 0 4.28 7.69 Z" class="figure-path"/>
    </symbol>
  </defs>
  <text x="5.004" y="254.928" style="font-size: 13px; white-space: pre;" class="figure-text">conditioning</text>
  <line style="stroke: rgb(0, 0, 0);" x1="80.594" y1="250" x2="134.146" y2="250" class="figure-line"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 126.45600128173828, 245.71998596191406)" xlink:href="#arrow-right"/>
  <g transform="matrix(1, 0, 0, 1, 42.585468, 8.635989)">
    <title>FiLM Generator</title>
    <rect x="91.561" y="92.492" width="179.844" height="297.744" style="fill: rgb(195, 170, 170);" class="figure-network"/>
    <text x="5.004" y="254.928" class="figure-text" transform="matrix(1, 0, 0, 1.000001, 130.045502, -8.63625)" style="font-size: 13px; white-space: pre;">FiLM generator</text>
  </g>
  <line style="stroke: rgb(0, 0, 0);" x1="313.99" y1="250" x2="380" y2="250" class="figure-line"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 372.3102722167969, 245.72000122070312)" xlink:href="#arrow-right"/>
  <g transform="matrix(1, 0, 0, 1, -70.334694, -46.605865)">
    <title>FiLM Parameters</title>
    <rect x="450.335" y="186.802" width="33.305" height="227.974" style="fill: rgb(216, 216, 216);" class="figure-layer"/>
    <text x="450.706" y="274.215" style="font-size: 13px; white-space: pre;" class="figure-text" transform="matrix(0, -1, 1, 0, 197.729706, 797.351501)">FiLM parameters</text>
  </g>
  <g id="full-figure">
    <title>FiLM-ed Network</title>
    <rect x="479.315" y="47.559" width="259.685" height="405.803" style="fill: rgb(195, 170, 170);" class="figure-network"/>
    <g>
      <title>Input</title>
      <text x="5.004" y="254.928" style="font-size: 13px; white-space: pre;" class="figure-text" transform="matrix(1, 0, 0, 1.000001, 590.454407, 225.003632)">input</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.157" y1="467.457" x2="609.157" y2="437.052" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 437.0520324707031)" xlink:href="#arrow-up"/>
    <g transform="matrix(1, 0, 0, 1, 378.391449, 166.016449)">
      <title>Subnetwork</title>
      <rect x="119.766" y="208.684" width="222" height="62.352" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="195.98" y="244.6" style="font-size: 13px; white-space: pre; opacity: 0.3;" class="figure-text">sub-network</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.157" y1="374.7" x2="609.157" y2="350.692" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 350.6918640136719)" xlink:href="#arrow-up"/>
    <g transform="matrix(1, 0, 0, 1, 144.902435, 27.552868)">
      <title>FiLM</title>
      <rect x="353.255" y="278.092" width="222" height="45.047" style="fill: rgb(216, 216, 216);" class="figure-layer"/>
      <text x="450.695" y="305.358" style="font-size: 13px; white-space: pre;" class="figure-text">FiLM</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.158" y1="305.645" x2="609.158" y2="281.636" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 281.6359558105469)" xlink:href="#arrow-up"/>
    <g transform="matrix(1, 0, 0, 1, 378.391479, 38.774292)">
      <title>Subnetwork</title>
      <rect x="119.766" y="180.51" width="222" height="62.352" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="195.979" y="216.426" style="font-size: 13px; white-space: pre; opacity: 0.3;" class="figure-text">sub-network</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.157" y1="219.284" x2="609.157" y2="195.276" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 195.27598571777344)" xlink:href="#arrow-up"/>
    <g transform="matrix(1, 0, 0, 1, 144.902481, -96.725906)">
      <title>FiLM</title>
      <rect x="353.255" y="246.955" width="222" height="45.047" style="fill: rgb(216, 216, 216);" class="figure-layer"/>
      <text x="450.706" y="274.215" style="font-size: 13px; white-space: pre;" class="figure-text">FiLM</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.157" y1="150.229" x2="609.157" y2="126.221" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 126.22064208984375)" xlink:href="#arrow-up"/>
    <g transform="matrix(1, 0, 0, 1, 378.391479, -85.694366)">
      <title>Subnetwork</title>
      <rect x="119.766" y="149.563" width="222" height="62.352" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="195.979" y="185.479" style="font-size: 13px; white-space: pre; opacity: 0.3;" class="figure-text">sub-network</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="609.157" y1="63.869" x2="609.157" y2="32.531" class="figure-line"/>
    <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 604.8775024414062, 32.531253814697266)" xlink:href="#arrow-up"/>
    <g>
      <title>Output</title>
      <text x="591.389" y="27.684" style="font-size: 13px; white-space: pre;" class="figure-text">output</text>
    </g>
  </g>
  <line style="stroke: rgb(0, 0, 0);" x1="413.305" y1="250" x2="453.248" y2="250" class="figure-line"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 490.4674377441406, 323.88836669921875)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 490.46746826171875, 168.4726104736328)" xlink:href="#arrow-right"/>
  <path style="fill: none; stroke: rgb(0, 0, 0);" d="M 453.248 250 L 453.248 172.75 L 498.157 172.75" class="figure-line"/>
  <path style="fill: none; stroke: rgb(0, 0, 0);" d="M 453.248 250 L 453.248 328.17 L 498.157 328.17" class="figure-line"/>
</svg>