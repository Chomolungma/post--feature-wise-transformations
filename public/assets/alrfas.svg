<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 744 500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <pattern id="pattern-0" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">
      <path d="M 0 0 L 50 0 L 50 100 L 0 100 Z" style="fill: black;"/>
    </pattern>
    <linearGradient id="gradient-0" gradientUnits="userSpaceOnUse" x1="722.886" y1="0" x2="722.886" y2="500" gradientTransform="matrix(0, -0.083327, 0.210855, 0, 681.502075, 308.729199)">
      <stop offset="0" style="stop-color: rgb(240, 240, 245);"/>
      <stop offset="1" style="stop-color: rgba(240, 240, 245, 0);"/>
    </linearGradient>
    <symbol id="arrow-right" viewBox="0 0 7.69 8.56">
      <title>Right arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 7.69 4.28 C 4.911 5.279 2.314 6.725 0 8.56 L 1.55 4.28 L 0 0 C 2.314 1.835 4.911 3.28 7.69 4.28 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-up" viewBox="0 0 8.56 7.69">
      <title>Up arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 4.28 0 a 27.2 27.2 0 0 0 4.28 7.69 L 4.28 6.14 l -4.28 1.55 A 27.17 27.17 0 0 0 4.28 0 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-left" viewBox="0 0 7.69 8.56">
      <title>Left arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 0 4.28 a 27.2 27.2 0 0 0 7.69 -4.28 L 6.14 4.28 l 1.55 4.28 A 27.18 27.18 0 0 0 0 4.28 Z" class="figure-path"/>
    </symbol>
    <symbol id="arrow-down" viewBox="0 0 8.56 7.69">
      <title>Down arrow</title>
      <path style="fill: rgb(0, 0, 0);" d="M 4.28 7.69 a 27.2 27.2 0 0 0 -4.28 -7.69 l 4.28 1.55 4.28 -1.55 A 27.18 27.18 0 0 0 4.28 7.69 Z" class="figure-path"/>
    </symbol>
  </defs>
  <g>
    <title>Style transfer network</title>
    <rect x="127.32" y="60.059" width="414.357" height="207.099" style="fill: rgb(195, 170, 170);" class="figure-network"/>
    <g>
      <title>convolution 1</title>
      <rect x="151.772" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="153.606" y="135.187" style="font-size: 13px; white-space: pre; opacity: 0.3;" transform="matrix(0, -1, 1, 0, 40.169159, 352.842407)" class="figure-text">convolution</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="188.847" y1="163.608" x2="217.447" y2="163.608" class="figure-line"/>
    <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 209.7570037841797, 159.32798767089844)" xlink:href="#arrow-right"/>
    <g>
      <title>batch normalization 1</title>
      <rect x="217.447" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="510.559" y="77.567" style="font-size: 13px; white-space: pre; opacity: 0.3;" transform="matrix(0, -1, 0.999999, 0, 163.453613, 734.66272)" class="figure-text">batch normalization</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="254.522" y1="163.608" x2="283.123" y2="163.608" class="figure-line"/>
    <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 275.4329833984375, 159.32798767089844)" xlink:href="#arrow-right"/>
    <g>
      <title>FiLM 1</title>
      <rect x="283.123" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216);" class="figure-layer"/>
      <text x="400.91" y="193.092" style="font-size: 13px; white-space: pre;" transform="matrix(0, -1, 1, 0, 113.613937, 579.19397)" class="figure-text">FiLM</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="320.198" y1="163.608" x2="348.798" y2="163.608" class="figure-line"/>
    <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 341.1080322265625, 159.32798767089844)" xlink:href="#arrow-right"/>
    <g>
      <title>convolution 2</title>
      <rect x="348.798" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="538.433" y="126.872" style="font-size: 13px; white-space: pre; opacity: 0.3;" transform="matrix(0, -1, 1, 0, 245.508188, 737.670532)" class="figure-text">convolution</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="385.873" y1="163.608" x2="414.474" y2="163.608" class="figure-line"/>
    <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 406.78399658203125, 159.32798767089844)" xlink:href="#arrow-right"/>
    <g>
      <title>batch normalization 2</title>
      <rect x="414.474" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
      <text x="481.441" y="304.003" style="font-size: 13px; white-space: pre; opacity: 0.3;" transform="matrix(0, -1, 0.999997, 0.000002, 134.043961, 705.552734)" class="figure-text">batch normalization</text>
    </g>
    <line style="stroke: rgb(0, 0, 0);" x1="451.549" y1="163.608" x2="480.149" y2="163.608" class="figure-line"/>
    <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 472.458984375, 159.32798767089844)" xlink:href="#arrow-right"/>
    <g>
      <title>FiLM 2</title>
      <rect x="480.149" y="78.723" width="37.075" height="169.77" style="fill: rgb(216, 216, 216);" class="figure-layer"/>
      <text x="603.791" y="32.789" style="font-size: 13px; white-space: pre;" transform="matrix(0, -1, 1, 0, 470.936768, 782.06897)" class="figure-text">FiLM</text>
    </g>
  </g>
  <g>
    <title>FiLM generator</title>
    <rect x="254.522" y="297.865" width="287.155" height="102.75" style="fill: rgb(195, 170, 170);" class="figure-network"/>
    <rect x="263.295" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="304.181" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="345.067" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="385.953" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="426.839" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="467.725" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <rect x="508.609" y="305.75" width="24.295" height="86.98" style="fill: rgb(216, 216, 216); opacity: 0.3;" class="figure-layer"/>
    <text x="351.685" y="354.277" style="font-size: 13px; white-space: pre;" class="figure-text">FiLM generator</text>
  </g>
  <g>
    <title>Style loss</title>
    <rect x="680.075" width="106.859" height="500" style="fill: url(#gradient-0);"/>
    <text x="351.685" y="354.277" style="font-size: 13px; white-space: pre;" class="figure-text" transform="matrix(0, -1, 1, 0, 355.919952, 657.15625)">Style transfer loss</text>
  </g>
  <rect x="10" y="367.168" width="96" height="96" style="fill: rgb(216, 216, 216);" id="style-image-placeholder">
    <title>Style image placeholder</title>
  </rect>
  <rect x="10" y="30" width="96" height="96" style="fill: rgb(216, 216, 216);" id="content-image-placeholder">
    <title>Content image placeholder</title>
  </rect>
  <rect x="567.893" y="114.45" width="96" height="96" style="fill: rgb(216, 216, 216);" id="stylized-image-placeholder">
    <title>Stylized image placeholder</title>
  </rect>
  <line style="stroke: rgb(0, 0, 0);" x1="301.66" y1="297.865" x2="301.66" y2="248.493" class="figure-line"/>
  <line style="stroke: rgb(0, 0, 0);" x1="498.686" y1="297.865" x2="498.686" y2="248.493" class="figure-line"/>
  <line style="stroke: rgb(0, 0, 0);" x1="517.224" y1="163.608" x2="567.893" y2="163.608" class="figure-line"/>
  <path style="fill: none; stroke: rgb(0, 0, 0);" d="M 106 416.729 L 154.369 416.729 L 154.369 349.24 L 254.522 349.24" class="figure-line"/>
  <path style="fill: none; stroke: rgb(0, 0, 0);" d="M 57.061 126 L 57.061 163.608 L 151.772 163.608" class="figure-line"/>
  <path style="fill: none; stroke: rgb(0, 0, 0);" d="M 106 78.723 L 117.15 78.723 L 117.15 45.649 L 697.717 45.649" class="figure-line"/>
  <line style="stroke: rgb(0, 0, 0);" x1="697.717" y1="416.729" x2="106" y2="416.729" class="figure-line"/>
  <line style="stroke: rgb(0, 0, 0);" x1="697.717" y1="163.608" x2="663.893" y2="163.608" class="figure-line"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 246.83200073242188, 344.9599914550781)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 690.0269775390625, 41.369998931884766)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 690.0269775390625, 412.358642578125)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 560.2030029296875, 159.3300018310547)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 144.0819854736328, 159.3300018310547)" xlink:href="#arrow-right"/>
  <use width="7.690000057220459" height="8.5600004196167" transform="matrix(1, 0, 0, 1, 690.0269775390625, 159.3300018310547)" xlink:href="#arrow-right"/>
  <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 297.380005, 248.492996)" xlink:href="#arrow-up"/>
  <use width="8.5600004196167" height="7.690000057220459" transform="matrix(1, 0, 0, 1, 494.309998, 248.492981)" xlink:href="#arrow-up"/>
</svg>
